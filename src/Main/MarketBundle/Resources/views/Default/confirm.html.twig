{# Template Created By: DDV <ddv@qubitlogic.net> #}

{% extends '::base.html.twig' %}

{% block title 'Confirm Order' %}

    {% block content %}
        <div class="container">
            <div class="col-md-12">
                <div class="col-md-10 col-md-offset-2">
                    <div class="well well-sm col-md-5">
                        <h2>Confirm {{ type|capitalize }} {{ direction|capitalize }} Order</h2>
                        <p>Please review the details of your order and confirm.</p>
                        <div class="col-md-12">
                            {% if direction == "buy" %}
                                {% set costWord = 'Cost' %}
                            {% else %}
                                {% set costWord = 'Paid' %}
                            {% endif %}
                            <ul>
                                <li>Amount of BTC: {{ amount }}</li>
                                <li>Price: ${{ price }}</li>
                                <li>Total before Fees: ${{ totalWorth }}</li>
                                <li>Fee: ${{ fee }} (0.5%)</li>
                                <li>{{ costWord }} to You: ${{ cost }}</li>
                            </ul>
                            {% if confirmAllowed == true %}
                                {{ form_start(form) }}
                                <p>{{ form_row(form.pin) }}</p>
                                <input type="submit" class="btn btn-primary" value="Confirm"/>
                                {{ form_end(form) }}
                                {% if type == "instant" %}
                                    <p>*Price &amp; Cost subject to change until confirmed due to market change.</p>
                                {% endif %}
                            {% else %}
                                <p><a href="#" class="btn disabled btn-primary">Confirm</a></p>
                                {% if failReason == 'balance' %}
                                    <p>You don't have enough in your account to cover this transaction. Please make a deposit and try again.</p>
                                {% elseif failReason == 'limit' %}
                                    <p>Your account is not verified. This transaction exceeds the maximum transaction limit for unverified accounts. ($1000 USD)</p>
                                {% else %}
                                    <p>This transaction is not allowed. Please contact administration.</p>
                                {% endif %}
                            {% endif %}

                        </div>

                    </div>
                    <div class="clearfix"></div>

                </div>
                <div class="col-md-10 col-md-offset-1">
                    {{ render(controller('MainMarketBundle:Default:view', {'max': 10})) }}
                </div>
            </div>
        </div>
    {% endblock %}